{% extends "layout.html" %}
{% block content %}

    <div class="container">
        <div class="section mt-5">
            <div class="px-4 py-5 my-5 text-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="100"
                     height="100" fill="currentColor" class="bi bi-files my-3"
                     viewBox="0 0 16 16">
                    <path d="M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2m0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1M3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1z"/>
                </svg>
                <h1 class="display-5 text-body-emphasis">Inspections
                    alimentaires - Ville de Montréal</h1>


                <div class="container">
                    {% if nom_complet is not none %}
                        <h1 class="display-4 fw-bold text-body-emphasis">
                            Bienvenue {{ nom_complet }}</h1>
                        <a href="/disconnection"
                           class="btn btn-primary btn-lg px-4">
                            Se
                            déconnecter
                        </a>
                    {% else %}
                        <h1 class="display-4 fw-bold text-body-emphasis">
                            Bienvenue</h1>
                        <div class="container"
                             style="max-width: 20%; text-align: center;">
                            <a href="/connection"
                               class="btn btn-primary w-100 py-2 my-3">Se
                                connecter</a>
                            <a href="{{ url_for('create_user') }}"
                               class="btn btn-secondary w-100 py-2
                               my-1">Création de compte</a>
                        </div>
                    {% endif %}

                </div>


                <div class="container mt-5">
                    <form class="row mt-5 g-2 align-items-end">
                        <div class="col-md-2 position-relative">
                            <div class="form-floating my-1">
                                <input type="date" name="start-date"
                                       id="start-date" class="form-control">
                                <label for="start-date">Début</label>
                                <div class="invalid-feedback d-block position-absolute"
                                     id="error-start-date"><p></p></div>
                            </div>
                        </div>


                        <div class="col-md-2 position-relative">
                            <div class="form-floating my-1">
                                <input type="date" name="end-date"
                                       id="end-date" class="form-control">
                                <label for="end-date">Fin</label>
                                <div class="invalid-feedback d-block position-absolute"
                                     id="error-end-date"></div>
                            </div>
                        </div>

                        <div class="col-md-2 text-start">
                            <div class="form-floating my-1">
                                <button id="btn-fast-search"
                                        class="btn btn-primary" type="button">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                         width="16" height="16"
                                         fill="currentColor"
                                         class="bi bi-search"
                                         viewBox="0 0 16 16">
                                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                                    </svg>
                                </button>
                            </div>
                        </div>


                        <div class="col-md-4 text-start">
                            <label for="select-etablissement">Établissement
                                :</label>
                            <select name="etablissement"
                                    id="select-etablissement"
                                    class="form-control">
                                <option value="0" disabled selected>--
                                    Sélectionner --
                                </option>
                                {% for etablissement in etablissements %}
                                    <option value="{{ etablissement[0] }}">{{ etablissement[1] }}
                                        - {{ etablissement[2] }}</option>
                                {% endfor %}
                            </select>
                            <div class="invalid-feedback d-block position-absolute"
                                 id="error-dropdown">
                            </div>
                        </div>


                        <div class="col-md-2 text-start">
                            <div class="form-floating my-1">
                                <button type="button"
                                        id="btn-info-etablissement"
                                        class="btn btn-primary">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                         width="16" height="16"
                                         fill="currentColor"
                                         class="bi bi-search"
                                         viewBox="0 0 16 16">
                                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                    </form>

                </div>


                <!-- Modal recherche etablissement -->
                <div id="modal-etab">


                </div>


                <!-- Resultat table recherche par dates -->
                <div class="section text-center mt-5">
                    <div id="result-fast-search">

                    </div>
                </div>

                <!-- Modal pour modifier/supprimer contrevenant -->
                <div id="modal-dates">

                </div>


            </div>

        </div>
    </div>

{% endblock %}
